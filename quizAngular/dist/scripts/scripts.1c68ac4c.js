"use strict";function quiz(a){return{restrict:"AE",scope:{},templateUrl:"views/template.html",link:function(b,c,d){b.start=function(){b.id=0,b.quizOver=!1,b.inProgress=!0,b.getQuestion()},b.reset=function(){b.inProgress=!1,b.score=0},b.getQuestion=function(){var c=a.getQuestion(b.id);c?(b.type=c.type,b.question=c.question,b.options=c.options,b.answer=c.answer,b.imgs=c.imgs,b.answerMode=!0,$("textarea").val(""),console.log(b.id/6*100+"%"),$(".progress-bar").css("width",b.id/6*100+"%")):b.quizOver=!0},b.checkAnswer=function(){switch(b.type){case"0":if(!$("input[name=answer]:checked").length)return;var a=$("input[name=answer]:checked").val();a===b.options[b.answer]?(b.score++,b.correctAns=!0):b.correctAns=!1;break;case"1":var a=$("textarea").val();if(!a.length)return;a===b.answer?(b.score++,b.correctAns=!0):b.correctAns=!1;break;case"3":if(console.log("SMILES is"+SMILES),!SMILES)return;b.answer===SMILES?(b.score++,b.correctAns=!0):b.correctAns=!1}b.answerMode=!1},b.nextQuestion=function(){b.id++,b.getQuestion()},b.reset()}}}function quizFactory(){var a=[{type:"0",question:"Select a correct IUPAC name for the structure below.",options:["2-iodo-4-ethyl-4-methylpentane","3,3-dimethyl-5-iodohexane","2-iodo-4,4-dimethylhexane","2-ethyl-2-methyl-4-iodopentane"],imgs:"1.png",answer:2},{type:"0",question:"Select a correct IUPAC name for the structure below.",options:["1-ethyl-1-isopropylhexane","2-methyl-3-ethyloctane","3-ethyl-2-methyloctane","2-methyl-3-pentylpentane"],imgs:"2.png",answer:2},{type:"0",question:"Select a correct IUPAC name for the structure below.",options:["2-methyl-3-ethylheptane","3-butyl-2-methylpentane","3-ethyl-2-methylheptane","5-isopropylheptane"],imgs:"3.png",answer:2},{type:"1",question:"Name the following compound according to the IUPAC system",options:[],imgs:"4.png",answer:"2-ethyl-1,1-dimethylcyclopropane"},{type:"1",question:"Name the following compound according to the IUPAC system",options:[],imgs:"6.png",answer:"3-ethyl-2-methylpentane"},{type:"3",question:"Build ethanol.",options:[],imgs:"",answer:"CCO"}];return{getQuestion:function(b){return b<a.length?a[b]:!1}}}function quiz2(a){return{restrict:"AE",scope:{},templateUrl:"views/template.html",link:function(b,c,d){b.start=function(){b.id=0,b.quizOver=!1,b.inProgress=!0,b.getQuestion()},b.reset=function(){b.inProgress=!1,b.score=0},b.getQuestion=function(){var c=a.getQuestion(b.id);c?(b.type=c.type,b.question=c.question,b.options=c.options,b.answer=c.answer,b.imgs=c.imgs,b.answerMode=!0,$("textarea").val(""),$(".progress-bar").css("width",b.id/6*100+"%")):b.quizOver=!0},b.checkAnswer=function(){switch(b.type){case"0":if(!$("input[name=answer]:checked").length)return;var a=$("input[name=answer]:checked").val();a===b.options[b.answer]?(b.score++,b.correctAns=!0):b.correctAns=!1;break;case"1":var a=$("textarea").val();if(!a.length)return;a===b.answer?(b.score++,b.correctAns=!0):b.correctAns=!1;break;case"3":if(console.log("SMILES is"+SMILES),!SMILES)return;b.answer===SMILES?(b.score++,b.correctAns=!0):b.correctAns=!1}b.answerMode=!1},b.nextQuestion=function(){b.id++,b.getQuestion()},b.reset()}}}function quizFactory2(){var a=[{type:"3",question:"Build water.",options:[],imgs:"",answer:"HOH"}];return{getQuestion:function(b){return b<a.length?a[b]:!1}}}angular.module("quizAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]);var SMILES;quiz.$inject=["quizFactory"],quiz2.$inject=["quizFactory2"],angular.module("quizAngularApp").directive("quiz",quiz).directive("quiz2",quiz2).factory("quizFactory",quizFactory).factory("quizFactory2",quizFactory2).controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),$("#start").on("click",function(){function a(a){var b=document.querySelector("#player");b.src=window.URL.createObjectURL(a)}var b={audio:!1,video:!0};return navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),navigator.getUserMedia?void navigator.getUserMedia(b,a,function(a){console.log(a)}):alert("getUserMedia not supported in this browser.")});var start=function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var a=document.getElementById("canvas"),b=a.getContext("2d"),c=document.getElementById("video"),d=document.getElementById("btnRecord"),e=document.getElementById("btnPhoto"),f=document.getElementById("btnStop"),g={video:!0,audio:!1};$("#btnStart").prop("disabled",!0),d.addEventListener("click",function(){var d;navigator.getUserMedia&&(navigator.getUserMedia(g,function(a){c.src=navigator.webkitGetUserMedia?window.URL.createObjectURL(a):a,d=a},function(a){console.error("Video capture error: ",a.code)}),f.addEventListener("click",function(){d.getVideoTracks()[0].stop()}),e.addEventListener("click",function(){function d(){$.ajax({type:"POST",data:j,url:"https://brumebleu.pythonanywhere.com/detect/",processData:!1,contentType:!1,success:e})}function e(a){SMILES=a.SMILES,alert("Picture Posted. Results are "+SMILES)}b.drawImage(c,0,0,250,180);var f=a.toDataURL("image/png",1),g=[];f=atob(f.split(",")[1]);for(var h=0;h<f.length;h++)g.push(f.charCodeAt(h));var i=new Blob([new Uint8Array(g)],{type:"image/png"}),j=new FormData;j.append("image",i),d()}))})};angular.module("quizAngularApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);